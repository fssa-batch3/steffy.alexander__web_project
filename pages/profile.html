<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../assests/css/profile.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
        integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link href="https://fonts.googleapis.com/css2?family=Carter+One&display=swap" rel="stylesheet" />
</head>
<body>
    <form>
        
            <div class="content">
        <div class="left">
    <div class="leftbox">
        
         <img class="profile" src="../assests/images/bc.jpeg" alt="profile img">
         <input type="file" id="file">
         <label for="file"><img id="editcam" src="../assests/images/photo-camera.png" alt="editimg"></label>
         <br><br>
         <p class="username" id="displayProfile">Steffy Alexander</p>
         <!-- <label for="name"> name <input type="text" id="name"></label><br><br>
         <label for="email">Email <input type="text"  id="email"></label> -->
        </div>
        <div class="bottomleft">

        <div class="fstname"><i class="fa-solid fa-user"></i>Profile</div>
        <div class="secname"><i class="fa-solid fa-user"></i>Edit Profile</div>
       <a href="/index.html"><div class="thirdname"><i class="fa-solid fa-user"></i>Back to Home</div></a>
        </div>
    </div>
    <div class="right">
    <!-- <div class="righttop">
        <textarea placeholder="What's in your mind today?"></textarea><br>
        <i class="fa-solid fa-camera-retro"></i>
        <i class="fa-solid fa-phone-volume"></i>
        <i class="fa-solid fa-microphone"></i><span><button id="post">POST</button></span>
        
    </div> -->


<div class="bottomcontent">
    
    <div class="bottomquote">
  <p id="para">"a3wsedrctyvuhbijninyybvrs rthvyu"</p>
    </div>
    <div class="inputfields">
        <label for="fname">First name<input type="text" id="fname" disabled></label><br>
        <label for="lname">last name <input type="text" id="lname" disabled></label><br>
        <label for="email">Email <input type="text"  id="email" disabled></label><br>
        <label for="number">Mobile.No <input  type="tel" pattern="[0-9]{10}"  id="number" disabled required></label><br>
        <label for="address">Address<input type="text" id="address" disabled></label><br>
        <label for="gender">Gender <input type="text" id="gender" disabled></label><br>
    </div>
</div>




<div class="lastcontent">
    <div class="side_one">
        <h2>Add Bio</h2>
        <textarea placeholder="Add Bio"></textarea>
        <button id="edit" >Edit</button>
        <button id="save">update</button>
        <button id="delete">Delete</button>
    </div>
   <div><img src="../assests/images/img gif.gif" alt="plants"></div>
</div>
</div>
</div>
</div>
</form>

<!-- <!DOCTYPE html>
Coding By CodingLab | www.codinglabweb.com
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-pUA-Compatible" content="ie=edge" />
<title>Star Rating in HTML CSS & JavaScript</title>
    <link rel="stylesheet" href="style.css" />
 Fontawesome CDN Link 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" />
<script src="script.js" defer></script>
  </head>
  <body>
    <div class="rating-box">
      <header>How was your experience?</header>
      <div class="stars">
        <i class="fa-solid fa-star"></i>
        <i class="fa-solid fa-star"></i>
        <i class="fa-solid fa-star"></i>
        <i class="fa-solid fa-star"></i>
        <i class="fa-solid fa-star"></i>
      </div>
    </div>
  </body>
</html> -->

<!-- 
    /* Import Google font - Poppins */
@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700&display=swap");
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: "Poppins", sans-serif;
}
body {
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(45deg, #ffd195, #ffb283);
}
.rating-box {
  position: relative;
  background: #fff;
  padding: 25px 50px 35px;
  border-radius: 25px;
  box-shadow: 0 5px 10px rgba(0, 0, 0, 0.05);
}
.rating-box header {
  font-size: 22px;
  color: #dadada;
  font-weight: 500;
  margin-bottom: 20px;
  text-align: center;
}
.rating-box .stars {
  display: flex;
  align-items: center;
  gap: 25px;
}
.stars i {
  color: #e6e6e6;
  font-size: 35px;
  cursor: pointer;
  transition: color 0.2s ease;
}
.stars i.active {
  color: #ff9c1a;
}
 
 -->

 <!-- 
      // Select all elements with the "i" tag and store them in a NodeList called "stars"
const stars = document.querySelectorAll(".stars i");

// Loop through the "stars" NodeList
stars.forEach((star, index1) => {
  // Add an event listener that runs a function when the "click" event is triggered
  star.addEventListener("click", () => {
    // Loop through the "stars" NodeList Again
    stars.forEach((star, index2) => {
      // Add the "active" class to the clicked star and any stars with a lower index
      // and remove the "active" class from any stars with a higher index
      index1 >= index2 ? star.classList.add("active") : star.classList.remove("active");
    });
  });
});
  -->

 


<script>
   
    const img_div =document.querySelector(".leftbox")
    const profile =document.querySelector(".profile")
    const file=document.querySelector("#file")
    const uploadbtn=document.querySelector("#button")
    const displayName = document.querySelector("#displayProfile")
    // when we choose file
    file.addEventListener('change',function(){
        // this refers to file
        const choosed_file = this.files[0]
        if(choosed_file) {
            const reader= new FileReader()
   // filereader is predefiden function of js
            reader.addEventListener('load',function(){
             profile.setAttribute("src",reader.result)
         })
         reader.readAsDataURL(choosed_file)
        }
    })

    let username = JSON.parse(localStorage.getItem("arr")); 
    //array of objects

   
    let profile_data = (localStorage.getItem("profile"));
     
     
let res;


    username.find(e=>{
        if(e["email"]==profile_data){
            return res=e; //arr[0]

        }
    })

    // console.log(res)  //{first:name}
    // res["mobile_num"]="56767676"
    // console.log(res)

    document.getElementById("fname").value = res["fname"];
    document.getElementById("lname").value = res["lastname"];
    document.getElementById("email").value = res["email"]; 
    document.getElementById("number").value = res["number"]?? ""; 
    document.getElementById("address").value = res["address"]??""; 
    document.getElementById("gender").value = res["gender"]??"";
    //  document.getElementById("number").value = ""; 
    // document.getElementById("address").value = ""; 
    // document.getElementById("gender").value = "";

    displayName.innerText=res["fname"] +" " +res["lastname"];
    // displayName.innerText = res["fname"] + " "+res["lastname"] 
    
    

    document.getElementById("edit").addEventListener("click",e=>{
        e.preventDefault();
        document.getElementById("fname").removeAttribute("disabled","")
        document.getElementById("lname").removeAttribute("disabled","")
        // document.getElementById("email").removeAttribute("disabled","")
        // document.getElementById("password").value = res["password"]; 
        document.getElementById("number").removeAttribute("disabled","")
        document.getElementById("address").removeAttribute("disabled","")
        document.getElementById("gender").removeAttribute("disabled","")
       
    })



    document.getElementById("save").addEventListener("click",e=>{
        e.preventDefault();
        let res1={};
       let users=JSON.parse(localStorage.getItem("arr"))
       res1["email"]=document.getElementById("email").value;
       users.forEach((e,i) => {
        if(res1["email"]==e["email"]){
          res1["password"]=e["password"]
            users.splice(i,1)
        }
       });

        
        res1["fname"]=document.getElementById("fname").value;
        res1["lastname"]=document.getElementById("lname").value;
        res1["number"]=document.getElementById("number").value;
        res1["address"]=document.getElementById("address").value;
        res1["gender"]=document.getElementById("gender").value;
        
        
        users.push(res1);

        localStorage.setItem("arr",JSON.stringify(users))
        if(res["number"]){
            console.log(res)
            document.getElementById("number").value=res["number"]

        }
        
        document.getElementById("fname").setAttribute("disabled","")
        document.getElementById("lname").setAttribute("disabled","")
        document.getElementById("email").setAttribute("disabled","")
        document.getElementById("number").setAttribute("disabled","")
        document.getElementById("address").setAttribute("disabled","")
        document.getElementById("gender").setAttribute("disabled","")
        window.location.href="./profile.html"
    })

    document.getElementById("delete").addEventListener("click",e=>{
        e.preventDefault();
        // console.log(res) //current object
        // res["fname"]=""
        // console.log(res)
        // let num=username.indexOf(res) //1

        // delete username[num] //username[1]
        // username.splice(num,1)//splice(index,1,replacement)
        // console.log(username)
        // localStorage.setItem("arr",JSON.stringify(username))
       localStorage.removeItem("profile")

     
    })

    
  

    // for (let i = 0; i < username.length; i++) { 
    //     document.getElementById("fname").value = username[i]["fname"];
    //     document.getElementById("lname").value = username[i]["lastname"];
    //     document.getElementById("email").value = username[i]["email"];
    //     document.getElementById("p").innerText = username[i]["fname"]+ " " + username[i]["lastname"];

    // }

        // let username = JSON.parse(localStorage.getItem("arr"));
       

    //     for(let i = 0; i < username.length; i++){
    //       if(document.getElementById("email").value == username[i]["email"]){
    //         username[i].fname= document.getElementById("fname").value
    //         username[i].lastname= document.getElementById("lname").value
           
    //     }
    //     localStorage.setItem("arr", JSON.stringify(username))
    // }


    

</script>
</body>
</html>





